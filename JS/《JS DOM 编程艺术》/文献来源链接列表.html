<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Explaining the Document Object Model</title>
  <style>
    body {font-family: "Helvetica","Arial",sans-serif; font-size: 10pt; } abbr {text-decoration: none; border: 0; font-style: normal; }
  </style>
</head>
<body>
  <h1>What is the Document Object Model?</h1>
  <p>
The <abbr title="World Wide Web Consortium">W3C</abbr> defines
the <abbr title="Document Object Model">DOM</abbr> as:
  </p>
  <blockquote cite="http://www.w3.org/DOM/">
    <p>
A platform- and language-neutral interface that will allow programs
and scripts to dynamically access and update the
content, structure and style of documents.
    </p>
  </blockquote>
  <p>
It is an <abbr title="Application Programming Interface">API</abbr>
that can be used to navigate <abbr title="HyperText Markup Language">
HTML</abbr> and <abbr title="eXtensible Markup Language">XML
</abbr> documents.
  </p>

<script type="text/javascript">
function addLoadEvent(func) {
  var oldonload = window.onload;
  if (typeof window.onload != 'function') {
    window.onload = func;
  } else {
    window.onload = function() {
      oldonload();
      func();
    }
  }
}
function displayCitations() {
  // checks for compatibility
  if (!document.getElementsByTagName || !document.createElement || !document.createTextNode) return false;
  // get all the blockquotes
  var quotes = document.getElementsByTagName("blockquote");
  // loop through all the blockquotes
  for (var i=0; i<quotes.length; i++) {
    // if there is no cite attribute, continue the loop
    if (!quotes[i].hasAttribute("cite")) continue;
    // store the cite attribute
    var url = quotes[i].getAttribute("cite");
    // get all the element nodes in the blockquote
    var quoteChildren = quotes[i].getElementsByTagName('*');
    // if there are no element node, continue the loop
    if (quoteChildren.length < 1) continue;
    // get the last element node in the blockquote(ensure you get the last ele)
    var elem = quoteChildren[quoteChildren.length - 1];
    // create the markup
    var link = document.createElement("a");
    var link_text = document.createTextNode("source");
    link.appendChild(link_text);
    link.setAttribute("href",url);
    var superscript = document.createElement("sup");
    superscript.appendChild(link);
    // add the markup to the last element node in the blockquote
    elem.appendChild(superscript);
  }
}

addLoadEvent(displayCitations);
</script>
</body>
</html>
